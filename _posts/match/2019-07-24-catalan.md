---
layout: post
title:  "卡特兰(Catalan)数"
date:   2019-07-23 22:14:54
categories: match
tags: match 
excerpt: 卡特兰(Catalan)数
mathjax: 1
---

* content
{:toc}
> 昨天半夜竟然有人在群里不聊八卦，扔了一个问题出来，见鬼
>



## 问题引诉

> 12个高矮不同的人，排成两排，每排必须是从矮到高排列，而且第二排比对应的第一排的人高，问排列方式有多少种？

### 想法

1.  12个人直接用`1-12`来代替，并且发现了，`1`，和`12`的位置应该是不变的，因为如果12和11换位置，那么不满足响应的身高约束条件。

```php
第二排：12 11 10 9 8 7
第一排：6  5  4  3 2 1
```


2.  **第一想法**是：想将12固定，之后的数据进行填充（加入），直到一排排好，那么另外一排响应的顺序也确定了。所以：

**第二排第二个位置可以是：**

```php
第二排：12 11 
第一排：
```

```php
第二排：12 10 
第一排：11
```

**第二排第三个位置可以是：**

```php
第二排：12 11 10
第一排：
```

```php
第二排：12 10 9
第一排：11 
```

```php
第二排：12 11 9
第一排：10
```

```php
第二排：12 10 8
第一排：11 9
```

```php
第二排：12 11 8
第一排：10 9
```

。。。。。。

3. 由此类推，发现在第二排在**排**`n`个数之前，在第一排可以先**排**`0-n`个数字的。如果把第二排的人当做**入栈**操作，把第一排的人当做**出栈**操作，那么存在这样的约束：<u>第n个数字入栈之前可以有`0-(n-1)`次出栈。</u>也就转为**“n个数字进出栈的顺序”**的问题。那么


$$
h(6)=\frac{C(2n,n)}{(n+1)}=\frac{C(12,6)}{(6+1)}=132
$$





## 卡特兰数

### 关于卡特兰数

> 卡特兰数是一种经典的组合数，经常出现在各种计算中，其前几项为 : 1, 2, 5, 14, 42, 132, 429,1430, 4862, 16796, 58786, 208012, 742900, 2674440, 9694845, 35357670, 129644790,477638700, 1767263190, 6564120420, 24466267020, 91482563640,343059613650, 1289904147324, 4861946401452, ...

### 一般公式

$$
h(n)= h(0)*h(n-1)+h(1)*h(n-2) + ... + h(n-1)h(0) \quad(n>=2)
$$

**简化公式：**


$$
h(n)=c(2n,n)-c(2n,n+1)(n=0,1,2,...)
$$


**更进一步：**


$$
h(n)=\frac{C(2n,n)}{(n+1)}
$$


**推导：**


$$
\begin{align}
h(n) & =c(2n,n)-c(2n,n+1)\\
     & =\frac{2n!}{n!*n!}-\frac{2n!}{(n+1)!*(2n-n-1)!}\\
     & =\frac{2n!}{n!*n!}-\frac{2n!}{(n+1)!*(n-1)!}\\
     & =\frac{2n!}{n!*n!}-\frac{2n!}{n!*n!}*\frac{n}{n+1}\\
     & =\frac{2n!}{n!*n!}*(1-\frac{n}{n+1})\\
     & =\frac{2n!}{n!*n!}*\frac{1}{n+1}\\
     & =\frac{C(2n,n)}{(n+1)}
\end{align}
$$




## 参考文献

[卡特兰数详讲](https://blog.csdn.net/wookaikaiko/article/details/81105031)

[阿里的两道和卡特兰数相关的面试题](http://www.nowamagic.net/academy/detail/40140317)

[MathJax](https://mathjax-chinese-doc.readthedocs.io/en/latest/start.html)

